<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit4Vocab2020-jeopardy</title>

    <link href="index.css" rel="stylesheet" type="text/css">
</head>

<body>
    <script src="index.js"></script>
    
    <div id="table">
        <center>
            <h1>Jeopardy!</h1>
            <br>
            <br>
            <br>
            <h3><b><span class="bounce button2" data-modal="panel" category="5" number="1">Click For Rules</span></b></h3>
            <table>
                <tr class="category">
                    <th class="category"><span>Giver Vocab</span></th>
                    <th class="category"><span>Gimkit Vocab </span></th>
                    <th class="category"><span>Computer Vocab</span></th>
                    <th class="category"><span>Teacher Vocab</span></th>
                </tr>
                <tr>
                    <td><span class="button" data-modal="panel" category="1" number="1">200</span></td>
                    <td><span class="button" data-modal="panel" category="2" number="1">200</span></td>
                    <td><span class="button" data-modal="panel" category="3" number="1">200</span></td>
                    <td><span class="button" data-modal="panel" category="4" number="1">200</span></td>
                </tr>
                <tr>
                    <td><span class="button" data-modal="panel" category="1" number="2">400</span></td>
                    <td><span class="button" data-modal="panel" category="2" number="2">400</span></td>
                    <td><span class="button" data-modal="panel" category="3" number="2">400</span></td>
                    <td><span class="button" data-modal="panel" category="4" number="2">400</span></td>
                </tr>
                <tr>
                    <td><span class="button" data-modal="panel" category="1" number="3">600</span></td>
                    <td><span class="button" data-modal="panel" category="2" number="3">600</span></td>
                    <td><span class="button" data-modal="panel" category="3" number="3">600</span></td>
                    <td><span class="button" data-modal="panel" category="4" number="3">600</span></td>
                </tr>
                <tr>
                    <td><span class="button" data-modal="panel" category="1" number="4">800</span></td>
                    <td><span class="button" data-modal="panel" category="2" number="4">800</span></td>
                    <td><span class="button" data-modal="panel" category="3" number="4">800</span></td>
                    <td><span class="button" data-modal="panel" category="4" number="4">800</span></td>
                </tr>
                <tr>
                    <td><span class="button" data-modal="panel" category="1" number="5">1000</span></td>
                    <td><span class="button" data-modal="panel" category="2" number="5">1000</span></td>
                    <td><span class="button" data-modal="panel" category="3" number="5">1000</span></td>
                    <td><span class="button" data-modal="panel" category="4" number="5">1000</span></td>
                </tr>
            </table>
        </center>
    </div>

    <div id="scores">
        <p><span class="bob" style="position:relative;transform: translateY(-15px);">A-Team</span></p>
        <p>Team 1: <span id="team1score">0</span></p>
        <button class="add" onclick="addPoints(1)">+100</button>
        <button class="subtract" onclick="subtractPoints(1)">-100</button>
        <p>Team 2: <span id="team2score">0</span></p>
        <button class="add" onclick="addPoints(2)">+100</button>
        <button class="subtract" onclick="subtractPoints(2)">-100</button>
        <p>Team 3: <span id="team3score">0</span></p>
        <button class="add" onclick="addPoints(3)">+100</button>
        <button class="subtract" onclick="subtractPoints(3)">-100</button>
        <p>Team <span id="richards">Richards</span>: <span id="team4score">0</span></p>
        <button class="add" onclick="addPoints(4)">+100</button>
        <button class="subtract" onclick="subtractPoints(4)">-100</button>
        <!--<p>Team A: ∞!!!!!!!!!!!!!∞, ∞ times :P</p>-->
    </div>

    <div id="panel" class="modal">
      <div class="modal-content">
        <div class="contact-form">
            <button class="close">X</button>
            <form action="/">
                <h2 id="questionTitle"></h2>
                <p id="questionAnswer"></p>
                <span id="timer"></span>
                <span id="showAnswer" onclick="document.getElementById('questionAnswer').style='display: block;'"">TIME'S UP, CLICK FOR ANSWER</span>
            </form>
          </div>
      </div>
    </div>

    <script>
        let modalBtns = [...document.querySelectorAll(".button")];
        modalBtns.forEach(function(btn) {
            btn.onclick = function() {
                let modal = btn.getAttribute('data-modal');
                document.getElementById(modal)
                .style.display = "block";
                let category = btn.getAttribute('category');
                category = Number(category);
                let number = btn.getAttribute('number');
                number = Number(number);

                document.getElementById("questionAnswer").style = "opacity: 1;";

                document.getElementById("questionTitle").innerHTML = theActualJeapordy[category - 1][number - 1]["question"];
                document.getElementById("questionAnswer").innerHTML = theActualJeapordy[category - 1][number - 1]["answer"];
                document.getElementById("showAnswer").style = "display: none;";
                
                let closeBtns = [...document.querySelectorAll(".close")];
                closeBtns.forEach(function(btn) {btn.onclick = function() {}});

                let seconds = 10;

                setTimeout(() => {
                    document.getElementById("showAnswer").style = "display: block;";
                }, seconds * 1000);

                document.getElementById("timer").innerHTML = seconds;
                seconds -= 1;

                var x = setInterval(function() {
                    document.getElementById("timer").innerHTML = seconds;

                    // If the count down is finished, write some text
                    if (seconds <= 0) {
                        clearInterval(x);
                        document.getElementById("timer").innerHTML = "";
                        // let closeBtns = [...document.querySelectorAll(".close")];
                        closeBtns.forEach(function(btn) {
                            btn.onclick = function() {
                                let modal = btn.closest('.modal');
                                modal.style.display = "none";
                                document.getElementById("questionAnswer").style = "display: none;";
                            }
                        });
                    }

                    seconds -= 1;
                }, 1000);
                
                btn.parentNode.style = "background-color: #f00; border-color: #f00;";
                btn.parentNode.removeChild(btn);
            }
        });

        let modalBtns2 = [...document.querySelectorAll(".button2")];
        modalBtns2.forEach(function(btn) {
            btn.onclick = function() {
                let modal = btn.getAttribute('data-modal');
                document.getElementById(modal)
                .style.display = "block";
                let category = btn.getAttribute('category');
                category = Number(category);
                let number = btn.getAttribute('number');
                number = Number(number);

                document.getElementById("questionAnswer").style = "opacity: 1;";

                document.getElementById("questionTitle").innerHTML = theActualJeapordy[category - 1][number - 1]["question"];
                document.getElementById("questionAnswer").innerHTML = theActualJeapordy[category - 1][number - 1]["answer"];
                document.getElementById("showAnswer").style = "display: none;";

                let closeBtns = [...document.querySelectorAll(".close")];
                closeBtns.forEach(function(btn) {
                    btn.onclick = function() {
                        let modal = btn.closest('.modal');
                        modal.style.display = "none";
                        document.getElementById("questionAnswer").style = "display: none;";
                    }
                });

                document.getElementById('questionAnswer').style='display: block;';
            }
        });

        // mouseover
        let bobEasterEgg = [...document.querySelectorAll(".bob")];
        bobEasterEgg.forEach(function(elem) {
            elem.addEventListener("mouseover", function() {
                setTimeout(() => {
                    window.location.replace("/08riyf9q87ehf8779hbufykYO8AFITT6320W9");
                }, 1000);
            }); 
        });
    </script>
</body>

</html>
